<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游댠 Ofertas Premium Falabella Per칰</title>
    <meta name="description" content="Las mejores ofertas de Falabella Per칰 actualizadas autom치ticamente. Encuentra descuentos incre칤bles en tecnolog칤a, moda, hogar y m치s.">
    <meta name="keywords" content="ofertas, descuentos, falabella, peru, tecnologia, moda, hogar">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="static/css/style.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>游댠</text></svg>">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1>游댠 Ofertas Premium</h1>
                <p>Las mejores ofertas de Falabella Per칰 con dise침o profesional y navegaci칩n avanzada</p>
            </div>
        </div>
    </header>
    
    <!-- Controls -->
    <nav class="controls">
        <div class="container">
            <div class="controls-grid">
                <div class="sort-section">
                    <span class="sort-label">Ordenar por:</span>
                    <div class="sort-controls">
                        <button class="sort-btn active" data-sort="none">
                            <i class="fas fa-list"></i> Original
                        </button>
                        <button class="sort-btn" data-sort="discount">
                            <i class="fas fa-percentage"></i> Descuento
                        </button>
                        <button class="sort-btn" data-sort="price">
                            <i class="fas fa-dollar-sign"></i> Precio
                        </button>
                    </div>
                </div>
                <div class="stats-compact">
                    <span><i class="fas fa-fire"></i> {{ total_productos }} productos</span>
                </div>
            </div>
        </div>
    </nav>
    
    <div class="main-wrapper" style="display: flex; flex-wrap: wrap; gap: 2rem;">
        <!-- Panel lateral izquierdo -->
        <aside class="categories-sidebar" style="flex: 1 1 20%; max-width: 300px;">
            <div class="categories-panel">
                <div class="categories-grid filters">
                    {% for categoria_key, categoria_data in datos.items() %}
                        <button class="filter-btn{% if categoria_key == 'descuentos_cmr' %} active{% endif %}" data-category="{{ categoria_key }}">
                            <i class="{{ categoria_data.info.icono }}"></i> {{ categoria_data.info.nombre }}
                        </button>
                    {% endfor %}
                </div>
            </div>
        </aside>

        <!-- Contenido principal -->
        <main class="main-content" style="flex: 1 1 75%;">
            <div class="container">
                <!-- Pagination -->
                <div class="pagination hidden"></div>
                
                {% for categoria_key, categoria_data in datos.items() %}
                <div class="category-section" data-category="{{ categoria_key }}">
                    <div class="category-header">
                        <i class="{{ categoria_data.info.icono }}"></i>
                        <h2>{{ categoria_data.info.nombre }}</h2>
                    </div>
                    <div class="products-grid">
                        {% for producto in categoria_data.productos %}
                        <div class="product-card">
                            <div class="discount-badge">-{{ producto.descuento_porcentaje }}%</div>
                            <img data-src="{{ producto.imagen or 'https://via.placeholder.com/280x280/6366f1/ffffff?text=Sin+Imagen' }}" 
                                 src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 280 280'%3E%3Crect width='280' height='280' fill='%23f3f4f6'/%3E%3C/svg%3E"
                                 alt="{{ producto.nombre }}" 
                                 class="product-image lazy"
                                 loading="lazy"
                                 onerror="this.src='https://via.placeholder.com/280x280/6366f1/ffffff?text=Sin+Imagen'">
                            <div class="product-info">
                                <div class="product-brand">{{ producto.marca }}</div>
                                <div class="product-name">{{ producto.nombre }}</div>
                                <div class="product-prices">
                                    <span class="price-current">{{ producto.precio_oferta }}</span>
                                    <span class="price-original">{{ producto.precio_original }}</span>
                                </div>
                                {% if producto.link %}
                                <a href="{{ producto.link }}" target="_blank" class="product-link">
                                    <i class="fas fa-shopping-cart"></i> Ver Oferta
                                </a>
                                {% else %}
                                <span class="product-link" style="background: #ccc; cursor: not-allowed;">
                                    <i class="fas fa-times"></i> Sin enlace
                                </span>
                                {% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </main>
    </div>
    
    <!-- Scroll to top button -->
    <button id="scroll-top" onclick="window.ofertasApp.scrollToTop()" style="
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        cursor: pointer;
        box-shadow: var(--shadow-medium);
        display: none;
        z-index: 1000;
        transition: all 0.3s ease;
    " onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <!-- Scripts -->
    <script src="static/js/main.js"></script>
</body>
</html>